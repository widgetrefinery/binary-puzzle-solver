!function(e){function r(u){if(n[u])return n[u].exports;var o=n[u]={exports:{},id:u,loaded:!1};return e[u].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};r.m=e,r.c=n,r.p="",r(0)}([function(e,r,n){function u(e,r,n){var u={toggle:function(){t.toggle(e.cells,r,n),e.dirty=!0},view:function(){return m("span",{class:e.changes&&e.changes[r+","+n]?"active":"",onclick:u.toggle},t.value(e.cells,r,n))}};return m(u)}function o(e,r){var n={view:function(){for(var n=new Array(e.size),o=0;o<e.size;o++)n[o]=u(e,o,r);return m("div",n)}};return m(n)}var t=n(1),l=n(3),a={running:void 0,speed:200,solver:l.create(6),resize:function(e){var r=0|e.target.value;a.solver=l.create(r)},run:function(){a.running?(clearTimeout(a.running),a.running=void 0):a.runCallback()},runCallback:function(){l.solve(a.solver),a.solver.changes.hasData?a.running=setTimeout(a.runCallback,a.speed):a.running=void 0,m.redraw()},step:function(){l.solve(a.solver)},view:function(){for(var e=new Array(a.solver.size),r=0;r<a.solver.size;r++)e[r]=o(a.solver,r);return m("div",[m("select",{onchange:a.resize},[m("option",{value:6},"6x6"),m("option",{value:8},"8x8"),m("option",{value:10},"10x10"),m("option",{value:12},"12x12")]),m("button",{onclick:a.step},"step"),m("button",{onclick:a.run},a.running?"stop":"run"),m("div",{class:"board"},e)])}};m.mount(document.body,a)},function(e,r,n){function u(e,r,n){if(0<=r&&r<e.size&&0<=n&&n<e.size)return e.values[e.size*n+r]}function o(e,r,n){return 0<=r&&r<e.size&&0<=n&&n<e.size?e.values[e.size*n+r].value:a}function t(e,r,n){return a!==r&&r===n&&(e.value=i===r?s:i,!0)}var l=n(2),a=l.cell.unknown,i=l.cell.zero,s=l.cell.one;e.exports={create:function(e){for(var r=new Array(e*e),n=0;n<r.length;n++)r[n]={value:a,queued:!1};return{size:e,values:r}},get:u,value:o,toggle:function(e,r,n){var o=u(e,r,n);a===o.value?o.value=i:i===o.value?o.value=s:o.value=a},infer:function(e,r,n){var l=u(e,r,n),i=o(e,r-2,n),s=o(e,r-1,n);if(t(l,i,s))return l.value;var c=o(e,r+1,n);if(t(l,s,c))return l.value;if(t(l,c,o(e,r+2,n)))return l.value;var v=o(e,r,n-2),f=o(e,r,n-1);if(t(l,f,v))return l.value;var p=o(e,r,n+1);return t(l,f,p)?l.value:t(l,p,o(e,r,n+2))?l.value:a},hasNeighbor:function(e,r,n){return a!==o(e,r-1,n)||a!==o(e,r+1,n)||a!==o(e,r,n-1)||a!==o(e,r,n+1)}}},function(e,r){e.exports={cell:{unknown:"",zero:"0",one:"1"}}},function(e,r,n){function u(e){e.rows=new Array(e.size),e.cols=new Array(e.size),e.queue=[];for(var r=0;r<e.size;r++)e.rows[r]=d.create(e.size),e.cols[r]=d.create(e.size);for(var n=0;n<e.size;n++)for(var u=0;u<e.size;u++){var a=g.get(e.cells,u,n);a.queued=!1,m===a.value?g.hasNeighbor(e.cells,u,n)&&o(e,u,n):(d.set(e.rows[n],u,a.value)&&t(e,n),d.set(e.cols[u],n,a.value)&&l(e,u))}}function o(e,r,n){var u=g.get(e.cells,r,n);u.queued||(u.queued=!0,e.queue.push({type:"cell",x:r,y:n}))}function t(e,r){var n=e.rows[r];n.queued||(n.queued=!0,e.queue.push({type:"row",y:r}))}function l(e,r){var n=e.cols[r];n.queued||(n.queued=!0,e.queue.push({type:"column",x:r}))}function a(e,r,n){i(e,r,n,-1,0),i(e,r,n,1,0),i(e,r,n,0,-1),i(e,r,n,0,1)}function i(e,r,n,u,t){r+=u,n+=t;var l=g.get(e.cells,r,n);void 0!==l&&m===l.value?o(e,r,n):(r+=u,n+=t,void 0!==(l=g.get(e.cells,r,n))&&m===l.value&&o(e,r,n))}function s(e,r,n,u,o,i){e.changes.hasData=!0,e.changes[r+","+n]=!0,a(e,r,n),o&&d.set(e.rows[n],r,u)&&t(e,n),i&&d.set(e.cols[r],n,u)&&l(e,r)}function c(e,r,n){var u=g.get(e.cells,r,n);u.queued=!1,m===u.value&&m!==g.infer(e.cells,r,n)&&s(e,r,n,u.value,!0,!0)}function v(e,r){var n=e.rows[r];n.queued=!1;for(var u=0;u<e.size;u++){var o=g.get(e.cells,u,r);if(m===o.value){var l=d.get(n,u);m!==l&&(o.value=l,s(e,u,r,l,!1,!0))}}if(1===n.perms.length)for(var a=n.perms[0],i=0;i<e.size;i++)i!==r&&d.remove(e.rows[i],a)&&t(e,i)}function f(e,r){var n=e.cols[r];n.queued=!1;for(var u=0;u<e.size;u++){var o=g.get(e.cells,r,u);if(m===o.value){var t=d.get(n,u);m!==t&&(o.value=t,s(e,r,u,t,!0,!1))}}if(1===n.perms.length)for(var a=n.perms[0],i=0;i<e.size;i++)i!==r&&d.remove(e.cols[i],a)&&l(e,i)}var p=n(2),g=n(1),d=n(4),m=p.cell.unknown,z=p.cell.zero,h=p.cell.one;e.exports={create:function(e){return{size:e,dirty:!0,cells:g.create(e),rows:void 0,cols:void 0,queue:void 0,changes:void 0}},solve:function(e){for(e.dirty&&(e.dirty=!1,u(e)),e.changes={hasData:!1};!e.changes.hasData&&0<e.queue.length;){var r=e.queue.pop();"cell"===r.type?c(e,r.x,r.y):"row"===r.type?v(e,r.y):"column"===r.type?f(e,r.x):console.log("unknown queue entry: "+r)}},import:function(e,r){e.dirty=!0;for(var n=0,u=0;u<e.size;u++){for(var o=0;o<e.size;o++){var t=n<r.length?r[n]:" ";n++;var l=g.get(e.cells,o,u);l.value="0"===t?z:"1"===t?h:m}n++}},export:function(e){for(var r="",n=0;n<e.size;n++){0<n&&(r+="\n");for(var u=0;u<e.size;u++){var o=g.value(e.cells,u,n);r+=z===o?"0":h===o?"1":" "}}return r}}},function(e,r,n){function u(e){if(!s[e]){var r=[];s[e]=r;for(var n=new Array(e),u=e/2,t=0;t<u;t++)n[t]=i,n[u+t]=a;for(o(n)&&r.push(n.join(""));;){for(var l=0;a===n[l];)l++;if(l>=u)break;for(var c=l+1;i===n[c];)c++;n[c-1]=a,n[c]=i;for(t=l;t<c-1;t++)n[t]=a,n[t-l]=i;o(n)&&r.push(n.join(""))}}return s[e].slice()}function o(e){for(var r=e[0],n=1,u=1;u<e.length;u++)if(r===e[u]){if(2<++n)return!1}else r=e[u],n=1;return!0}var t=n(2),l=t.cell.unknown,a=t.cell.zero,i=t.cell.one,s={};e.exports={create:function(e){return{perms:u(e),queued:!1}},get:function(e,r){for(var n=e.perms[0][r],u=1;u<e.perms.length;u++)if(n!==e.perms[u][r])return l;return n},set:function(e,r,n){for(var u=!1,o=e.perms.length-1;0<=o;o--)e.perms[o][r]!==n&&(e.perms.splice(o,1),u=!0);return u},remove:function(e,r){for(var n=!1,u=e.perms.length-1;0<=u;u--)if(e.perms[u]===r){e.perms.splice(u,1),n=!0;break}return n},_compute:u,_isValid:o}}]);
//# sourceMappingURL=app.js.map
